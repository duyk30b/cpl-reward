syntax = "proto3";

package admin_campaign;

service GrpcAdminCampaignService {
  rpc Create(CreateInput) returns (Result);
  rpc Cancel(CancelInput) returns (CancelResult);
  rpc FindOne(FindOneInput) returns (Result);
  rpc Update(UpdateInput) returns (Result);
}

message CancelInput {
  int32 campaignId = 1;
}

message CancelResult {
  int32 affected = 1;
}

message Empty {}

message InitResult {
  int32 id = 1;
}

message FindOneInput {
  int32 id = 1;
}

message UpdateInput {
  int32 id = 1;
  string title = 2;
  string description = 3;
  string detailExplain = 4;
  int32 startDate = 5;
  int32 endDate = 6;
  string notificationLink = 7;
  string campaignImage = 8;
  repeated RewardRule rewardRules = 9;
}

message RewardRule {
  int32 id = 1;
  string key = 2;
  string currency = 3;
  int32 limitValue = 4;
}

message Result {
  int32 id = 1;
  string title = 2;
  string description = 3;
  string detailExplain = 4;
  int32 startDate = 5;
  int32 endDate = 6;
  string notificationLink = 7;
  string campaignImage = 8;
  repeated RewardRuleResult rewardRules = 9;
}

message RewardRuleResult {
  int32 createdAt = 1;
  int32 updatedAt = 2;
  int32 id = 3;
  string key = 4;
  string currency = 5;
  int32 limitValue = 6;
  int32 releaseValue = 7;
}

message CreateInput {
  string title = 1;
  string description = 2;
  string detailExplain = 3;
  int32 startDate = 4;
  int32 endDate = 5;
  string notificationLink = 6;
  string campaignImage = 7;
  repeated RewardRuleResult rewardRules = 8;
}
